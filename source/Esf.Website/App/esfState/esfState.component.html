<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">ESFiddle</a>
        </div>
        <button type="button" 
                (click)="runClicked()" 
                [ngClass]="{'disabled' : !runCommandEnabled}"
                class="run-command btn btn-default navbar-btn">
            <span>Run</span>
            <span *ngIf="runCommandInProgress">
                <!--TODO: add spinner gif-->
                ...
            </span>
        </button>

        <button type="button" 
                (click)="saveClicked()" 
                [ngClass]="{'disabled' : !saveCommandEnabled}"
                class="save-command btn btn-default navbar-btn">
            <span>Save</span>
            <span *ngIf="saveCommandInProgress">
                <!--TODO: add spinner gif-->
                ...
            </span>
        </button>
    </div>
</nav>
<section id="editors" class="container">
    <div class="row">
        <div class="col-xs-6">
            <label>Mapping</label>
            <div class="mapping-editor" [(text)]="state.mapping" json-editor [readOnly]="!editorsEnabled" style="border: 2px #e7e7e7 solid; display: block; width: 100%; min-height: 200px; overflow: auto;"></div>
            <div class="alert alert-danger" *ngIf="!!mappingInputErrors && mappingInputErrors.length > 0">
                <ul>
                    <li *ngFor="let error of mappingInputErrors">{{error}}</li>
                </ul>
            </div>
        </div>
        <div class="col-xs-6">
            <label>Documents</label>
            <div class="documents-editor" [(text)]="state.documents" json-editor [readOnly]="!editorsEnabled" style="border: 2px #e7e7e7 solid; display: block; width: 100%; min-height: 200px; overflow: auto;"></div>
            <div class="alert alert-danger" *ngIf="!!documentsInputErrors && documentsInputErrors.length > 0">
                <ul>
                    <li *ngFor="let error of documentsInputErrors">{{error}}</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-6">
            <label>Query</label>
            <div class="query-editor" [(text)]="state.query" json-editor [readOnly]="!editorsEnabled" style="border: 2px #e7e7e7 solid; display: block; width: 100%; min-height: 200px; overflow: auto;"></div>
            <div class="alert alert-danger" *ngIf="!!queryInputErrors && queryInputErrors.length > 0">
                <ul>
                    <li *ngFor="let error of queryInputErrors">{{error}}</li>
                </ul>
            </div>
        </div>
        <div class="col-xs-6">
            <label>Result</label>
            <div class="result-viewer" [text]="queryResult" json-editor [readOnly]="true" style="border: 2px #e7e7e7 solid; display: block; width: 100%; min-height: 200px; overflow: auto;"></div>
            <div class="alert alert-danger" *ngIf="!!queryError">{{queryError}}</div>
        </div>
    </div>
</section>